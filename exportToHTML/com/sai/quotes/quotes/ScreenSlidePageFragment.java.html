<html>
<head>
<title>ScreenSlidePageFragment.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: #606366; font-weight: normal; font-style: normal; }
.s0 { color: rgb(128,128,128); }
.s1 { color: rgb(169,183,198); }
.s2 { color: rgb(204,120,50); }
.s3 { color: rgb(98,151,85); font-style: italic; }
.s4 { color: rgb(119,183,103); font-style: italic; }
.s5 { color: rgb(106,135,89); }
.s6 { color: rgb(98,151,85); font-weight: bold; font-style: italic; }
.s7 { color: rgb(104,151,187); }
</style>
</head>
<BODY BGCOLOR="#2b2b2b">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
ScreenSlidePageFragment.java</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">/* 
 * Copyright 2012 The Android Open Source Project 
 * 
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); 
 * you may not use this file except in compliance with the License. 
 * You may obtain a copy of the License at 
 * 
 *     http://www.apache.org/licenses/LICENSE-2.0 
 * 
 * Unless required by applicable law or agreed to in writing, software 
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, 
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. 
 * See the License for the specific language governing permissions and 
 * limitations under the License. 
 */</span><span class="s1"> 
 
</span><span class="s2">package </span><span class="s1">com.sai.quotes.quotes</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s2">import </span><span class="s1">android.content.Context</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">android.content.Intent</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">android.content.SharedPreferences</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">android.os.Bundle</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">android.support.v4.app.Fragment</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">android.view.LayoutInflater</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">android.view.View</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">android.view.ViewGroup</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">android.widget.ImageView</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">android.widget.TextView</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s2">import </span><span class="s1">java.util.ArrayList</span><span class="s2">;</span><span class="s1"> 
</span><span class="s2">import </span><span class="s1">java.util.Arrays</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s3">/** 
 * A fragment representing a single step in a wizard. The fragment shows a dummy title indicating 
 * the page number, along with some dummy text. 
 * </span><span class="s4">&lt;p&gt;</span><span class="s3"> 
 * ScreenSlideActivity} samples.</span><span class="s4">&lt;/p&gt;</span><span class="s3"> 
 */</span><span class="s1"> 
</span><span class="s2">public class </span><span class="s1">ScreenSlidePageFragment </span><span class="s2">extends </span><span class="s1">Fragment { 
 
 
    </span><span class="s2">private </span><span class="s1">ArrayList&lt;String&gt; student</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s2">private </span><span class="s1">TextView quotesLargeTV</span><span class="s2">, </span><span class="s1">currentItemValue</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s2">private </span><span class="s1">View controlsView</span><span class="s2">;</span><span class="s1"> 
    ImageView heartWhite</span><span class="s2">, </span><span class="s1">heartRed</span><span class="s2">, </span><span class="s1">shareImg</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s2">private </span><span class="s1">SharedPreferences.Editor editor</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s2">private </span><span class="s1">SharedPreferences sharedPreferences</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s2">private </span><span class="s1">String selectedarray</span><span class="s2">;</span><span class="s1"> 
    </span><span class="s2">private </span><span class="s1">ArrayList&lt;String&gt; favouritearraySP</span><span class="s2">;</span><span class="s1"> 
 
    </span><span class="s3">/** 
     * The argument key for the page number this fragment represents. 
     */</span><span class="s1"> 
    </span><span class="s2">public static final </span><span class="s1">String ARG_PAGE = </span><span class="s5">&quot;page&quot;</span><span class="s2">;</span><span class="s1"> 
 
    </span><span class="s3">/** 
     * The fragment's page number, which is set to the argument value for {</span><span class="s6">@link </span><span class="s3">#ARG_PAGE}. 
     */</span><span class="s1"> 
    </span><span class="s2">private int </span><span class="s1">mPageNumber</span><span class="s2">;</span><span class="s1"> 
 
    </span><span class="s3">/** 
     * Factory method for this fragment class. Constructs a new fragment for the given page number. 
     */</span><span class="s1"> 
    </span><span class="s2">public static </span><span class="s1">ScreenSlidePageFragment create(</span><span class="s2">int </span><span class="s1">pageNumber) { 
        ScreenSlidePageFragment fragment = </span><span class="s2">new </span><span class="s1">ScreenSlidePageFragment()</span><span class="s2">;</span><span class="s1"> 
        Bundle args = </span><span class="s2">new </span><span class="s1">Bundle()</span><span class="s2">;</span><span class="s1"> 
        args.putInt(ARG_PAGE</span><span class="s2">, </span><span class="s1">pageNumber)</span><span class="s2">;</span><span class="s1"> 
        fragment.setArguments(args)</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">return </span><span class="s1">fragment</span><span class="s2">;</span><span class="s1"> 
    } 
 
    </span><span class="s2">public </span><span class="s1">ScreenSlidePageFragment() { 
    } 
 
    @Override 
    </span><span class="s2">public void </span><span class="s1">onCreate(Bundle savedInstanceState) { 
        </span><span class="s2">super</span><span class="s1">.onCreate(savedInstanceState)</span><span class="s2">;</span><span class="s1"> 
        mPageNumber = getArguments().getInt(ARG_PAGE)</span><span class="s2">;</span><span class="s1"> 
    } 
 
    @Override 
    </span><span class="s2">public </span><span class="s1">View onCreateView(LayoutInflater inflater</span><span class="s2">, </span><span class="s1">ViewGroup container</span><span class="s2">,</span><span class="s1"> 
                             Bundle savedInstanceState) { 
 
 
        sharedPreferences = getContext().getSharedPreferences(</span><span class="s5">&quot;mypreference&quot;</span><span class="s2">, </span><span class="s1">Context.MODE_PRIVATE)</span><span class="s2">;</span><span class="s1"> 
        editor = sharedPreferences.edit()</span><span class="s2">;</span><span class="s1"> 
        selectedarray = sharedPreferences.getString(</span><span class="s5">&quot;selectedarray&quot;</span><span class="s2">, </span><span class="s5">&quot;&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        selectedarray = selectedarray.replace(</span><span class="s5">&quot;[&quot;</span><span class="s2">, </span><span class="s5">&quot;&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        selectedarray = selectedarray.replace(</span><span class="s5">&quot;]&quot;</span><span class="s2">, </span><span class="s5">&quot;&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        selectedarray = selectedarray.replace(</span><span class="s5">&quot;.,&quot;</span><span class="s2">, </span><span class="s5">&quot;.~&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">final </span><span class="s1">ArrayList&lt;String&gt; selctedarrayitems = </span><span class="s2">new </span><span class="s1">ArrayList&lt;&gt;()</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s2">if </span><span class="s1">(selectedarray != </span><span class="s2">null</span><span class="s1">) { 
            selctedarrayitems.addAll(Arrays.asList(selectedarray.split(</span><span class="s5">&quot;</span><span class="s2">\\</span><span class="s5">s*~</span><span class="s2">\\</span><span class="s5">s*&quot;</span><span class="s1">)))</span><span class="s2">;</span><span class="s1"> 
 
        } 
 
 
        String selectedValue = sharedPreferences.getString(</span><span class="s5">&quot;storespValues&quot;</span><span class="s2">, </span><span class="s5">&quot;&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        selectedValue = selectedValue.replace(</span><span class="s5">&quot;[&quot;</span><span class="s2">, </span><span class="s5">&quot;&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        selectedValue = selectedValue.replace(</span><span class="s5">&quot;]&quot;</span><span class="s2">, </span><span class="s5">&quot;&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        selectedValue = selectedValue.replace(</span><span class="s5">&quot;.,&quot;</span><span class="s2">, </span><span class="s5">&quot;.~&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        favouritearraySP = </span><span class="s2">new </span><span class="s1">ArrayList&lt;&gt;()</span><span class="s2">;</span><span class="s1"> 
 
 
        </span><span class="s2">if </span><span class="s1">(selectedValue != </span><span class="s2">null</span><span class="s1">) { 
            favouritearraySP.addAll(Arrays.asList(selectedValue.split(</span><span class="s5">&quot;</span><span class="s2">\\</span><span class="s5">s*~</span><span class="s2">\\</span><span class="s5">s*&quot;</span><span class="s1">)))</span><span class="s2">;</span><span class="s1"> 
        } 
 
</span><span class="s0">//        String[] arraytodisplay=getResources().getStringArray(R.array.arr);</span><span class="s1"> 
 
</span><span class="s0">//        int a = 1;</span><span class="s1"> 
 
        </span><span class="s0">// Inflate the layout containing a title and body text.</span><span class="s1"> 
        ViewGroup rootView = (ViewGroup) inflater 
                .inflate(R.layout.fragment_screen_slide_page</span><span class="s2">, </span><span class="s1">container</span><span class="s2">, false</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        controlsView = rootView.findViewById(R.id.control_toolbar_fullscreen)</span><span class="s2">;</span><span class="s1"> 
        heartWhite = (ImageView) controlsView.findViewById(R.id.heart_icon_white)</span><span class="s2">;</span><span class="s1"> 
        heartRed = (ImageView) controlsView.findViewById(R.id.heart_icon_red)</span><span class="s2">;</span><span class="s1"> 
        shareImg = (ImageView) controlsView.findViewById(R.id.share_icon)</span><span class="s2">;</span><span class="s1"> 
        quotesLargeTV = (TextView) rootView.findViewById(R.id.textView)</span><span class="s2">;</span><span class="s1"> 
        currentItemValue = (TextView) rootView.findViewById(R.id.current_Item_value)</span><span class="s2">;</span><span class="s1"> 
 
 
 
</span><span class="s0">//        bg_fullpage.setImageResource(R.drawable.qoutes_fs_bg);</span><span class="s1"> 
</span><span class="s0">//        bg_fullpage.setScaleType(ImageView.ScaleType.MATRIX);</span><span class="s1"> 
 
        </span><span class="s0">// Set the title view to show the page number.</span><span class="s1"> 
</span><span class="s0">//        ((TextView) rootView.findViewById(android.R.id.text1)).setText(</span><span class="s1"> 
</span><span class="s0">//                getString(mPageNumber + 1));</span><span class="s1"> 
 
</span><span class="s0">//        ((TextView) rootView.findViewById(android.R.id.text1)).setText(selctedarrayitems.get(mPageNumber).toString());</span><span class="s1"> 
 
        quotesLargeTV.setText(</span><span class="s5">&quot;</span><span class="s2">\&quot;</span><span class="s5">&quot; </span><span class="s1">+ selctedarrayitems.get(mPageNumber).toString() + </span><span class="s5">&quot;</span><span class="s2">\&quot;</span><span class="s5">&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
        currentItemValue.setText(mPageNumber + </span><span class="s7">1 </span><span class="s1">+ </span><span class="s5">&quot;/&quot; </span><span class="s1">+ String.valueOf(selctedarrayitems.size()))</span><span class="s2">;</span><span class="s1"> 
 
</span><span class="s0">//        quotesLargeTV.measure(0, 0);</span><span class="s1"> 
</span><span class="s0">//        int a = quotesLargeTV.getMeasuredWidth();</span><span class="s1"> 
</span><span class="s0">//        int b = quotesLargeTV.getMeasuredHeight();</span><span class="s1"> 
</span><span class="s0">//        Toast.makeText(getActivity(), String.valueOf(a) + &quot;,&quot; + String.valueOf(b), Toast.LENGTH_SHORT).show();</span><span class="s1"> 
</span><span class="s0">//        bg_fullpage.getLayoutParams().width = a;</span><span class="s1"> 
</span><span class="s0">//        bg_fullpage.getLayoutParams().height = b;</span><span class="s1"> 
</span><span class="s0">//        bg_fullpage.setImageResource(R.drawable.qoutes_fs_bg);</span><span class="s1"> 
</span><span class="s0">//        bg_fullpage.setScaleType(ImageView.ScaleType.MATRIX);</span><span class="s1"> 
 
        </span><span class="s2">final </span><span class="s1">String currentItem = selctedarrayitems.get(mPageNumber).toString()</span><span class="s2">;</span><span class="s1"> 
 
        </span><span class="s0">//heart image appearNCE and onclick action</span><span class="s1"> 
</span><span class="s0">//        holder.quoteItemTV.setText(quotesarray[position]);</span><span class="s1"> 
        </span><span class="s2">if </span><span class="s1">(favouritearraySP.contains(currentItem)) { 
 
            heartWhite.setVisibility(View.INVISIBLE)</span><span class="s2">;</span><span class="s1"> 
            heartRed.setVisibility(View.VISIBLE)</span><span class="s2">;</span><span class="s1"> 
        } </span><span class="s2">else </span><span class="s1">{ 
            heartWhite.setVisibility(View.VISIBLE)</span><span class="s2">;</span><span class="s1"> 
            heartRed.setVisibility(View.INVISIBLE)</span><span class="s2">;</span><span class="s1"> 
        } 
 
        heartWhite.setOnClickListener(</span><span class="s2">new </span><span class="s1">View.OnClickListener() { 
            @Override 
            </span><span class="s2">public void </span><span class="s1">onClick(View v) { 
</span><span class="s0">//                    one.get(position).setId(true);</span><span class="s1"> 
                heartWhite.setVisibility(View.INVISIBLE)</span><span class="s2">;</span><span class="s1"> 
                heartRed.setVisibility(View.VISIBLE)</span><span class="s2">;</span><span class="s1"> 
                favouritearraySP.add(currentItem)</span><span class="s2">;</span><span class="s1"> 
                editor.putString(</span><span class="s5">&quot;storespValues&quot;</span><span class="s2">, </span><span class="s1">favouritearraySP.toString())</span><span class="s2">;</span><span class="s1"> 
                editor.commit()</span><span class="s2">;</span><span class="s1"> 
            } 
        })</span><span class="s2">;</span><span class="s1"> 
 
 
        heartRed.setOnClickListener(</span><span class="s2">new </span><span class="s1">View.OnClickListener() { 
            @Override 
            </span><span class="s2">public void </span><span class="s1">onClick(View v) { 
                heartWhite.setVisibility(View.VISIBLE)</span><span class="s2">;</span><span class="s1"> 
                heartRed.setVisibility(View.INVISIBLE)</span><span class="s2">;</span><span class="s1"> 
                favouritearraySP.remove(currentItem)</span><span class="s2">;</span><span class="s1"> 
                editor.putString(</span><span class="s5">&quot;storespValues&quot;</span><span class="s2">, </span><span class="s1">favouritearraySP.toString())</span><span class="s2">;</span><span class="s1"> 
                editor.commit()</span><span class="s2">;</span><span class="s1"> 
            } 
        })</span><span class="s2">;</span><span class="s1"> 
 
 
        shareImg.setOnClickListener(</span><span class="s2">new </span><span class="s1">View.OnClickListener() { 
            @Override 
            </span><span class="s2">public void </span><span class="s1">onClick(View v) { 
                Intent sendIntent = </span><span class="s2">new </span><span class="s1">Intent()</span><span class="s2">;</span><span class="s1"> 
                sendIntent.setAction(Intent.ACTION_SEND)</span><span class="s2">;</span><span class="s1"> 
                sendIntent.putExtra(Intent.EXTRA_TEXT</span><span class="s2">, </span><span class="s1">selctedarrayitems.get(mPageNumber).toString() + </span><span class="s5">&quot;</span><span class="s2">\n\r</span><span class="s5">&quot; </span><span class="s1">+ </span><span class="s5">&quot;~Swami Vivekananda&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
                sendIntent.setType(</span><span class="s5">&quot;text/plain&quot;</span><span class="s1">)</span><span class="s2">;</span><span class="s1"> 
                startActivity(Intent.createChooser(sendIntent</span><span class="s2">, </span><span class="s1">selctedarrayitems.get(mPageNumber).toString()))</span><span class="s2">;</span><span class="s1"> 
            } 
        })</span><span class="s2">;</span><span class="s1"> 
        </span><span class="s2">return </span><span class="s1">rootView</span><span class="s2">;</span><span class="s1"> 
    } 
 
    </span><span class="s3">/** 
     * Returns the page number represented by this fragment object. 
     */</span><span class="s1"> 
    </span><span class="s2">public int </span><span class="s1">getPageNumber() { 
        </span><span class="s2">return </span><span class="s1">mPageNumber</span><span class="s2">;</span><span class="s1"> 
    } 
} 
</span></pre>
</body>
</html>